<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>socket.io configuration</title>
</head>
<body>
    <h1>Test client</h1>
    <div id="realtime-data"></div>
    <!-- include socket.io and code for testing  -->
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var socket = io.connect('http://localhost:5000',{
            reconnection: true,
            reconnectionDelay: 1000,
            reconnectionDelayMax : 5000,
            reconnectionAttempts: 15
        });

        socket.on('connect', function() {
            socket.emit('join', 'mta');
        });

        setTimeout(function() {
            document.getElementById('realtime-data').innerText = '';
            socket.emit('join', 'metro');
        }, 90 * 1000);

        socket.on('realtime-data', function(data) {
            document.getElementById('realtime-data').innerText = data;
        });
    </script>
</body>
</html>
